@model JewelleryShop.Models.OrderView
@{
    ViewBag.Title = "Orders";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Orders</h2>
<hr />

<div class="row d-flex justify-content-center">
    <div class="col-md-8">

        <!--Showing Table of Orders-->
        <div class=" table-responsive">
            <table class="table table-bordered table-hover bg-light shadow p-3 mb-5 bg-white rounded">
                <thead class="bg-dark text-white text-center font-weight-bold">
                    <tr>
                        <td>Id</td>
                        <td>Customer</td>
                        <td>Placement</td>
                        <td>Action</td>
                    </tr>
                </thead>

                <tbody>

                    @{ 

                        var i = 0;

                        foreach (var order in ViewData["Orders"] as IEnumerable<JewelleryShop.Models.OrderView>)
                        {

                            if (i == 0)
                            {
                               <tr class="text-center">
                                   <td>@order.orderId</td>
                                   <td>@order.userName</td>
                                   <td>@order.placementDate.ToString().Substring(0,9)</td>
                                   <td class="d-flex justify-content-center">
                                       <a href="@Url.Action("orderDelivered", "Admin", new { id = order.orderId })" class="btn btn-primary ">Delivered</a>
                                       <a href="@Url.Action("orderDetails", "Admin", new { id = order.orderId })" class="ml-2 btn btn-info ">Details</a>
                                   </td>
                               </tr>
                            }
                            else if (i != order.orderId)
                            {
                                <tr class="text-center">
                                    <td>@order.orderId</td>
                                    <td>@order.userName</td>
                                    <td>@order.placementDate.ToString().Substring(0, 9)</td>
                                    <td class="d-flex justify-content-center">
                                        <a href="@Url.Action("orderDelivered", "Admin", new { id = order.orderId })" class="btn btn-primary ">Delivered</a>
                                        <a href="@Url.Action("orderDetails", "Admin", new { id = order.orderId })" class="btn btn-info ">Details</a>
                                    </td>
                                </tr>
                            }

                            i = order.orderId;
                        }





                    }

                </tbody>
            </table>
        </div>





       




    </div>
</div>
